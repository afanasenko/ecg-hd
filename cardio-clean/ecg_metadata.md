**Описание метаданных, генерируемых при анализе кардиосигнала**

Функция *blobapi_detect_qrs*: обнаружение QRS-комплексов и сегментация отдельных волн.

qrs_metadata = blobapi_detect_qrs(inbuf, min_qrs_ms=20, delineate=False)

    Предварительные условия:
    blobapi_detect_qrs желательно вызывать после функций подавления
    дрейфа изолинии blobapi_fix_baseline и подавления сетевой помехи
    blobapi_mains_correction (порядок вызова не имеет значения)

    :param inbuf: входной буфер (остается неизменным)
    :param min_qrs_ms: минимальная длительность QRS-комплекса
    :param delineate: выполнить сегментацию найденных комплексов
    :return: qrs_metadata (список найденных комплексов)


Возвращает метаданные в виде списка словарей.

```
>>> qrs_metadata
[qrs0, qrs1, qrs2, ...]
```
Каждый словарь в списке содержит информацию по одному QRS-комплексу в виде пар "ключ-значение"

Описание полей в словаре метаданных:

```
>>> qrs0
{
    "cycle_num": порядковый номер кардиоцикла, начиная с 0
    "qrs_start": метка времени начала QRS
    "qrs_end": метка времени конца QRS
    "qrs_class_id": цифровой код класса или None, если не принадлежит ни одному классу
    "r_wave_center": метки времени вершин R-зубцов в каждом канале. В секундах от начала записи
    "r_wave_amplitude": Амплитуды R-зубца в каждом канале. Милливольт относительно изолинии
    "heartrate": Частота сердечных сокращений (ЧСС). уд/мин
    "artifact": Флаг наличия артефакта (True/False)
    "waves": параметры зубцов
    "qrsType" - тип (конфигурация) комплекса qrs - qR, Rs, qRs и т.д. None если артефакт
}
```
Параметры зубцов хранятся во вложенном словаре waves. Если зубец на обнаружен, все его параметры равны None.
```
"waves": {
    "p": {
        "start":
        "end":
        "center":
        "height":
    },
    "q": {
        "start": None (не оценивается)
        "end":
        "center":
        "height":
    },
    "r": {
        "start": None (не оценивается)
        "end": None (не оценивается)
        "center":
        "height":
    },
    "s": {
        "start": None (не оценивается)
        "end":
        "center":
        "height":
    },
    "t": {
        "start":
        "end":
        "center":
        "height":
    }
}
```


Примечания:

1. Временные метки qrs_start, qrs_end и r_wave_center - в секундах от начала записи, формат float32.
Временные метки отдельных зубцов q, r, s, p, t (start, end, center) - это номера отсчетов в сигнале.
2. Корректность значений *r_wave_amplitude* зависит от того, была ли предварительно
применена к сигналу коррекция дрейфа изолинии (*blobapi_fix_baseline*).
Это связано с тем, что функция *blobapi_detect_qrs* нечувствительна
к уровню изолинии и всегда вычисляет амплитуды зубцов относительно нулевого уровня.
3. ЧСС рассчитывается на основе положения вершин двух соседних R-зубцов.
4. Поле qrs_class_id отсутствует в метаданных, если не была выполнена классификация.

